# 코드 리뷰 가이드라인

## 목적

코드 리뷰는 코드 품질 향상, 버그 조기 발견, 지식 공유를 목적으로 합니다.

## Pull Request 작성 가이드

### PR 제목

커밋 메시지 컨벤션과 동일한 형식 사용:

```
feat(api): add order history endpoint
fix(kis): resolve datetime timezone comparison error
```

### PR 설명 템플릿

```markdown
## 변경 사항
- 변경 내용 1
- 변경 내용 2

## 관련 이슈
Closes #123

## 테스트
- [ ] 로컬에서 테스트 완료
- [ ] 단위 테스트 추가/수정
- [ ] 통합 테스트 통과

## 체크리스트
- [ ] 코드 스타일 가이드 준수
- [ ] 문서 업데이트 (필요시)
- [ ] Breaking Changes 문서화 (필요시)
- [ ] 성능 영향 검토 (필요시)
```

## 리뷰어 가이드라인

### 리뷰 시점

- PR 생성 후 24시간 이내에 첫 리뷰 시작
- 긴급한 경우 즉시 리뷰

### 리뷰 포인트

#### 1. 기능 정확성
- 요구사항을 올바르게 구현했는가?
- 엣지 케이스를 처리했는가?
- 에러 처리가 적절한가?

#### 2. 코드 품질
- 코드가 읽기 쉬운가?
- 중복 코드가 없는가?
- 적절한 네이밍을 사용했는가?
- 복잡도가 적절한가?

#### 3. 보안
- SQL Injection 방지
- XSS 방지
- 인증/인가 검증
- 민감한 정보 노출 방지

#### 4. 성능
- 불필요한 쿼리가 없는가?
- N+1 문제가 없는가?
- 적절한 인덱싱이 되어 있는가?

#### 5. 테스트
- 충분한 테스트 커버리지
- 테스트가 의미 있는가?

### 리뷰 코멘트 작성

#### 긍정적인 피드백

```markdown
✅ 좋은 접근 방식입니다!
✅ 이 부분의 구현이 깔끔하네요.
```

#### 건설적인 피드백

```markdown
💡 이 부분을 다음과 같이 개선하면 어떨까요?
💡 더 명확한 변수명을 사용하는 것이 좋을 것 같습니다.
```

#### 질문

```markdown
❓ 이 로직의 의도가 무엇인가요?
❓ 이 케이스는 어떻게 처리되나요?
```

#### 필수 수정

```markdown
🔴 이 부분은 반드시 수정이 필요합니다.
🔴 보안 이슈가 있어 수정이 필요합니다.
```

### 리뷰 응답

- 모든 코멘트에 답변하기
- 수정 사항은 별도 커밋으로 추가
- 논의가 필요한 경우 댓글로 토론

## 작성자 가이드라인

### PR 생성 전

- [ ] 로컬에서 테스트 완료
- [ ] 린터 오류 해결
- [ ] 관련 문서 업데이트
- [ ] 커밋 메시지 컨벤션 준수

### PR 생성 후

- [ ] 리뷰어 지정
- [ ] 관련 이슈 연결
- [ ] 라벨 추가 (feature, bugfix, etc.)
- [ ] CI/CD 통과 확인

### 리뷰 피드백 대응

- [ ] 모든 코멘트 확인
- [ ] 수정 사항 반영
- [ ] 논의가 필요한 부분 명확히 설명
- [ ] 수정 완료 후 리뷰어에게 알림

## 승인 기준

### 필수 조건

- [ ] 최소 1명의 승인
- [ ] 모든 리뷰 코멘트 해결
- [ ] CI/CD 통과
- [ ] 충돌 해결

### 권장 사항

- [ ] 백엔드 변경: 백엔드 담당자 승인
- [ ] 프론트엔드 변경: 프론트엔드 담당자 승인
- [ ] API 변경: 양쪽 담당자 승인

## 리뷰 시간 목표

- 작은 변경사항: 1일 이내
- 중간 변경사항: 2-3일 이내
- 큰 변경사항: 5일 이내

## 자동화

- CI/CD 파이프라인에서 자동 테스트 실행
- 코드 품질 검사 (lint, format)
- 보안 취약점 스캔

